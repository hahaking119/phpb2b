<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=<{$Charset}>" />
<title>Company Member Registration&laquo;<{$sitetitle}></title>
<link rel="stylesheet" type="text/css" href="<{$tpl_img_path}>default/basic.css" />
<link rel="stylesheet" type="text/css" href="<{$tpl_img_path}>default/head_foot.css" />
<link rel="stylesheet" type="text/css" href="<{$tpl_img_path}>default/style.css" />
<script src="<{$JS_PATH}>js/prototype.js"></script>
<SCRIPT LANGUAGE="JavaScript" src="<{$JS_PATH}>js/area_func.js"></SCRIPT> 
<SCRIPT LANGUAGE="JavaScript" src="<{$JS_PATH}>js/area_data.js"></SCRIPT> 
<SCRIPT LANGUAGE = JavaScript> 
<!--
var s=["s1","s2","s3"]; 
var opt0 = ["Country","Province","City"]; 
function setup() 
{ 
for(i=0;i<s.length-1;i++) 
document.getElementById(s[i]).onchange=new Function("change("+(i+1)+")"); 
change(0); 
} 
//--> 
</SCRIPT> 
<{$xajax_javascript}>
</head>

<body onload="setup()">
<{assign var="room_li" value="cor over"}>
<{assign var="if_searchbar" value="n"}>
<{include file="`$ThemeName`/element.header.html"}>
<div class="wd rg_wd1 rg_wd">
	<p class="rg_p1"></p><h2 class="rg_bt1">step1, fill in basic information</h2><h2 class="rg_bt2">step2, registration completed</h2><p class="rg_p2"></p>
</div>
<div class="clear9"></div>
<div class="wd rg_wd1">
	<div class="rg_left1">
		<div class="bt rg_bt3"><h2 class="f12">Your account information</h2><p></p></div>
<form name="regfrm" id="regfrm" method="post" action="<{$UrlContainer.register}>" autocomplete="off">
<input type="hidden" name="register" value="company" />
			<div class="rg_c1">
				<div class="clear15"></div>
				<p class="rg_p3">
					<label for="rg_name">User Name:</label>
					<input type="text" name="data[Member][username]" id="membername" maxlength="15" value="<{$smarty.post.membername}>" />
					<em id="membernameDiv">5-20 words(A-Z,a-z, 0-9,Undercore)</em>
				</p>
				<p class="rg_p3">
					<label for="rg_pass">Password: </label>
					<input type="password" name="data[Member][memberpass]" class="linehui" id="memberpass" maxlength="20" value="">
					<em>6-20 words</em>
				</p>
				<p class="rg_p3">
					<label for="">Confirm Password: </label>
					<input name="re_memberpass" type="password" class="linehui" id="re_memberpass" value="">
					<em>Repeat password</em>
				</p>
		<{if $ForumSet.switch}>
				<p class="rg_p3">
					<label for="">Join Business Forum: </label>
					<input type="radio" name="join_forum" value="1" checked="checked" class="rg_in1">Yes<input type="radio" name="join_forum" value="0" class="rg_in1">No
				</p>
		<{/if}>
<{if $IfInviteCode}>
				<p class="rg_p3">
					<label for="">Invitation code: </label>
					<input name=data[invite_code] class="linehui" id=invite_code size="30" maxLength=15>
				</p>
<{/if}>
				<div class="clear15"></div>
				<div class="bt rg_bt4"><h2 class="f12">Basic personal information and contact</h2><p></p></div>
				<div class="clear15"></div>
				<p class="rg_p3">
					<label for="">Real Name: </label>
					<input name=data[Member][lastname] class="linehui" id=member_lastname size="30" maxlength=20>
				</p>
				<p class="rg_p3 rg_p4">
					<label for="">Gender: </label>
					<input name="data[Member][gender]" type="radio" value="1" checked>
            <em>Male</em>
              <input type="radio" name="data[Member][gender]" value="2">
            <em>Female</em>
            <input name="data[Member][gender]" type="radio" value="0">
            <em>Privacy</em>
				</p>
				<p class="rg_p3 rg_p5">
					<label for="">Email: </label>
					<input name="data[Member][email]" class="linehui" id="member_email" value="" maxLength=100 />
					<label id="memberemailDiv"></label>
				</p>
				<p class="rg_p3">
					<label for="">Telephone: </label>
					<input name=data[Member][tel] class="linehui" id=member_tel size="30" maxLength=15>
				</p>
				<p class="rg_p3">
					<label for="">Phone Number: </label>
					<input name=data[Member][mobile] class="linehui" id=member_mobile size="30" maxLength=15>
				</p>
				<div class="clear15"></div>
				<div class="bt rg_bt4"><h2 class="f12">Company basic information and main business</h2><p></p></div>
				<div class="clear15"></div>
				<p class="rg_p3 rg_p5">
					<label for="">Company Name:</label>
					<input name=company[name] class="linehui" id="company_name" value="" maxLength="150"><div id="companynameDiv"></div>
				</p>
				<p class="rg_p3 rg_p4">
					<label for="">Company Type:</label>
					<select name="company[type_id]" id="companytypeId">
			<{html_options options=$CompanyTypes selected=$smaty.post.companytype}>
		  </select>
				</p>
				<p class="rg_p3 rg_p6">
					<label for="">Province:</label>
					<select name="country_id" id="s1"><option>Country</option></select> 
					<select name="province_id" id="s2"><option>Province</option></select> 
					<select name="city_id" id="s3"><option>City</option></select> 
				</p>
				<p class="rg_p3 rg_p7">
					<label for="">Address:</label>
					<input name=data[Member][address] class="linehui" id=member_address size="30" maxLength=100>
				</p>
				<p class="rg_p3 rg_p7">
					<label for="">Contact:</label>
					<input name=company[link_man] class="linehui" id=company_link_man value="">
				</p>
				<p class="rg_p3 rg_p7">
					<label for="">Industry:</label>
					<select name="aindustry" id="aindustry">
					<{foreach from=$Industries name=Industries key=key item=item}>
					<option value="<{$key}>" title="<{$item}>"><{$item}></option>
					<{/foreach}>
                          </select>
				</p>
<{if $IfRegisterPicture==1}>
				<p class="rg_p3 rg_p8">
					<label for="">Verify Code:</label>
					<input name="login_auth" id="login_auth" type="text" value="" size="4" maxlength="4">
					<img src="../auth_image.php">
					<em>Enter the four-digit code</em>
				</p>
<{/if}>
				<p class="rg_p3 rg_p8">
					<label for="">Read Agreement: </label>
					<em><a href="<{$UrlContainer.artical}>" title="<{$sitename}> Terms of Service" target="_blank">Click here to read the Terms of Service Member Registration</a></em>
				</p>
				<p class="rg_p3 rg_p10">
					<label for=""></label>
					<input type="button" name="Submit" id="Submit" value="Register" class="str" />
				</p>
				<div class="clear15"></div>
			</div>
			<div class="rg_bot1"></div>
		</form>
	</div>
	<div class="rg_right1">
		<div class="bt rg_bt3 rg_bt5"><h2 class="f12">Normal Member's Benefits</h2><p>&nbsp;</p></div>
		<div class="rg_c1 rg_c2">
			<div class="clear9"></div>
			<ul class="ul21">
				<li>Publish your product offers, so that the business auto at her door</li>
				<li>Post company, enhance corporate reputation</li>
				<li>Application enterprise Wang Pu, tailor-made all-round corporate website</li>
				<li>Submitted by friends, watch shops, always grasp the latest information industry</li>
			</ul>
			<div class="clear9"></div>
			<div class="bt rg_bt4 rg_bt6"><h2 class="f12">About The Site</h2></div>
			<div class="rg_xx">
				<p><{$sitedescription}></p>
			</div>
		</div>
		<div class="rg_bot1 rg_bot2"></div>
	</div>
</div>
<div class="clear15"></div>
<script type="text/javascript">
function hideorshow(curDiv){
$(curDiv).style.display = ($(curDiv).style.display == 'block')? 'none':'block';
}

function IsURL(urlString)
{
	regExp = /(?:(?:http[s]?|ftp):\/\/)?[^\/\.]+?\.[^\.\\\/]+?\.\w{2,}$/i;
	if (urlString.match(regExp))return true;
	else return false;
}

function checkreg(){
	if($F('membername')==""){
		alert("用户名必须填写");
		$('membername').focus();
		return false;
	}
	if(!(/^[a-zA-Z][a-zA-Z0-9_]{4,21}$/.test($F('membername')))){
		alert("用户名必须字母开头，允许5-20字节，允许字母数字下划线");
		$('membername').focus();
		return false;
	}
	
	if($F('memberpass')==""){
		alert("请输入密码");
		$('memberpass').focus();
		return false;
	}
	if($F('re_memberpass')==""){
		alert("请再次输入密码");
		$('re_memberpass').focus();
		return false;
	}
	if($F('memberpass') != $F('re_memberpass')){
		alert("前后密码输入不一致");
		$('memberpass').focus();
		return false;
	}

	if($F('member_email')==""){
		alert("请输入您的Email");
		$('member_email').focus();
		return false;
	}
	if(chkemail($F('member_email')) == 0){
		alert("您的Email格式输入有误!");
		$('member_email').focus();
		return false;
	}else if(!(/^[a-zA-Z0-9_\-]{1,}@[a-zA-Z0-9_\-]{1,}\.[a-zA-Z0-9_\-.]{1,}$/.test($F('member_email')))) {
		alert("您的Email格式输入有误!");
		$('member_email').focus();
		return false;
	}
	<{if $IfRegisterPicture}>
	if($F('login_auth')==""){
		alert("请输入验证码，不区分大小写");
		$('login_auth').focus();
		return false;
	}
	<{/if}>
	$("Submit").disabled = true;
	document.regfrm.submit();
}
addEvent($("member_email"), "blur", function checkEmail(){
	xajax_checkMemberEmail($F('member_email'));
});
addEvent($("company_name"), "blur", function checkCompanyName(){
	xajax_checkCompanyName($F('company_name'));
});
addEvent($("membername"), "blur", function checkName(){
	xajax_checkName($F('membername'));
});
addEvent($("Submit"), "click", function doRegister(){
	return checkreg(this);
});
</script>
<{include file="`$ThemeName`/element.foot.html"}>
</body>
</html>
